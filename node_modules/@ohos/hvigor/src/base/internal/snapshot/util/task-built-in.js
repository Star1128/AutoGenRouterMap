"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TaskBuiltIn=void 0;const json_reader_js_1=require("../../../util/json-reader.js"),task_input_value_entry_js_1=require("./task-input-value-entry.js");var TaskBuiltIn;!function(e){let t,a;!function(e){e.COMMAND="BUILTIN_TASK_COMMAND",e.TOOLCHAIN="BUILTIN_TASK_TOOLCHAIN",e.ENV="BUILTIN_TASK_ENV"}(t=e.Execution||(e.Execution={})),function(e){e.MAP="Map",e.VALUE_ENTRY="ValueEntry",e.REG_EXP="RegExp"}(a||(a={}));const n=new Map;n.set(a.MAP,(e=>new Map(e.value))),n.set(a.VALUE_ENTRY,(e=>{const t=json_reader_js_1.JsonReader.parseJsonText(e.value,void 0);if(t)return new task_input_value_entry_js_1.ValueEntry(t._name,t._value)})),n.set(a.REG_EXP,(e=>new RegExp(e.value)));const s=new Map;s.set(Map,(e=>({dataType:a.MAP,value:Array.from(e.entries())}))),s.set(task_input_value_entry_js_1.ValueEntry,(e=>({dataType:a.VALUE_ENTRY,value:JSON.stringify(e)}))),s.set(RegExp,(e=>({dataType:a.REG_EXP,value:e.source}))),e.snapshotSerializationReplacer=(e,t)=>{const a=[Map,task_input_value_entry_js_1.ValueEntry,RegExp];for(const e of a)if(t instanceof e&&s.has(e))return s.get(e)(t);return t},e.snapshotSerializationReceiver=(e,t)=>"object"==typeof t&&null!==t&&n.has(t.dataType)?n.get(t.dataType)(t):t}(TaskBuiltIn=exports.TaskBuiltIn||(exports.TaskBuiltIn={}));