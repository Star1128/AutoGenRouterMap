"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ITCB=void 0;const events_1=require("events"),noop_js_1=require("../../../../common/util/noop.js"),task_state_js_1=require("../enum/task-state.js");class ITCB extends events_1.EventEmitter{constructor(t,e,s,a,r,i,n,u,h=!1,o){super(),this.work=t,this.cb=e,this.cbInput=a,this.submitTime=Date.now(),this.updateLoc=r,this.taskPath=i,this.taskName=n,this.taskCompletePath=u,this.state=null!=o?o:task_state_js_1.TaskState.WAITING,this.useRetVal=null!=s&&s,this.warmUp=h}static getDefaultRejectTcb(t,e,s){return new ITCB(e,noop_js_1.noop,null==s?void 0:s.useReturnVal,[],noop_js_1.noop,t.getNode().getName(),t.getName(),t.getPath(),!1,task_state_js_1.TaskState.REJECT)}getId(){return this.work.getId()}getWorkerId(){return this.workerId}getSubmitTime(){return this.submitTime}getStartTime(){return this.startTime}getEndTime(){return this.endTime}getState(){return this.state}getPriority(){return this.work.getPriority()}getCallback(){return this.cb}getCallbackInput(){return this.cbInput}setWorkerId(t){this.workerId=t}setState(t){var e;return!!(null===(e=task_state_js_1.transitionMap.get(this.state))||void 0===e?void 0:e.has(t))&&(this.state=t,!0)}setPriority(t){return this.state===task_state_js_1.TaskState.WAITING&&(this.work.setPriority(t),this.updateLoc(),!0)}setCallback(t,e){return(this.state===task_state_js_1.TaskState.WAITING||this.state===task_state_js_1.TaskState.RUNNING)&&(this.cb=t,this.cbInput=null!=e?e:this.cbInput,!0)}setStartTime(t){this.startTime=t}setEndTime(t){this.endTime=t}getTaskCompletePath(){return this.taskCompletePath}getTaskName(){return this.taskName}getTaskPath(){return this.taskPath}useReturnVal(){return this.useRetVal}isWarmUp(){return this.warmUp}}exports.ITCB=ITCB;