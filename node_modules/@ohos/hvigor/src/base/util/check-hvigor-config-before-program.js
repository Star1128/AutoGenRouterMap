"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkHvigorConfigBeforeProgram=void 0;const fs_1=__importDefault(require("fs")),path_1=__importDefault(require("path")),const_js_1=require("../../common/const/const.js"),path_const_js_1=require("../../common/const/path-const.js"),parse_json_util_js_1=require("../../common/util/parse-json/parse-json-util.js");function checkHvigorConfigBeforeProgram(e,r){try{return fs_1.default.existsSync(path_1.default.resolve(path_const_js_1.HVIGOR_PROJECT_WRAPPER_HOME,const_js_1.DEFAULT_HVIGOR_CONFIG_JSON_FILE_NAME))?((0,parse_json_util_js_1.parseJsonFile)(path_1.default.resolve(path_const_js_1.HVIGOR_PROJECT_WRAPPER_HOME,const_js_1.DEFAULT_HVIGOR_CONFIG_JSON_FILE_NAME)),{result:!0}):{result:!0}}catch(t){if(t instanceof Error){let s=`${t.message}\n`;return e.stacktrace&&t.stack&&(s+=`${t.stack}\n`),s+="* Try the following:\n> Correct the syntax error as indicated above in the hvigor-config.json5 file.\n",r.error(s),{result:!1,message:s}}return{result:!1,stack:null==t?void 0:t.stack,message:t.message}}}exports.checkHvigorConfigBeforeProgram=checkHvigorConfigBeforeProgram;