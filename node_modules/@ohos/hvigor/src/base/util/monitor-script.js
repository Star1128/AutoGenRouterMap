"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const os_1=__importDefault(require("os")),worker_threads_1=require("worker_threads");function cpuAvgUsage(e,s){let t=0,r=0;const i=os_1.default.cpus();for(const e of i)r+=e.times.idle,r+=e.times.irq,r+=e.times.sys,r+=e.times.nice,r+=e.times.user,t+=e.times.idle;return{idleTicks:t,totalTicks:r,cpuUsage:1-(t-e)/(r-s)}}let res={idleTicks:0,totalTicks:0,cpuUsage:0};setInterval((()=>{res=cpuAvgUsage(res.idleTicks,res.totalTicks),worker_threads_1.parentPort.postMessage(res.cpuUsage)}),100);