"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MarkEvent=exports.MarkEventAdditional=exports.MarkEventTime=exports.MarkEventState=exports.MarkEventCategory=exports.MarkEventType=void 0;const base_event_js_1=require("./base-event.js");var MarkEventType,MarkEventCategory,MarkEventState;!function(t){t.HISTORY="history",t.OTHER="other"}(MarkEventType=exports.MarkEventType||(exports.MarkEventType={})),function(t){t.BUILD="build",t.CLEAN="clean"}(MarkEventCategory=exports.MarkEventCategory||(exports.MarkEventCategory={})),function(t){t.SUCCESS="success",t.FAILED="failed",t.RUNNING="running"}(MarkEventState=exports.MarkEventState||(exports.MarkEventState={}));class MarkEventTime{constructor(t){this.year=t.getFullYear(),this.month=t.getMonth()+1,this.day=t.getDate(),this.hour=t.getHours(),this.minute=t.getMinutes()}}exports.MarkEventTime=MarkEventTime;class MarkEventAdditional{constructor(){this.time=new MarkEventTime(new Date)}}exports.MarkEventAdditional=MarkEventAdditional;class MarkEvent extends base_event_js_1.BaseEvent{constructor(t,e,a,n,r){super(new base_event_js_1.EventHead(t,e,a,base_event_js_1.MetricEventType.MARK),new base_event_js_1.EventBody(n,r)),this.additional=new MarkEventAdditional}start(t=MarkEventState.RUNNING,e){this.setState(t),super.setStartTime(e)}stop(t=MarkEventState.SUCCESS,e){this.additional.state!==MarkEventState.FAILED&&this.additional.state!==MarkEventState.SUCCESS&&(this.body.endTime=null!=e?e:Number(process.hrtime.bigint()),this.setState(t))}setMarkType(t){this.additional.markType=t}setCategory(t){this.additional.category=t}setState(t){this.additional.state=t}setHvigorVersion(t){this.additional.hvigorVersion=t}setCompleteCommand(t){this.additional.completeCommand=t}setNodeVersion(t){this.additional.nodeVersion=t}}exports.MarkEvent=MarkEvent;