"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resolveThreadId=exports.getThreadId=exports.SessionMap=void 0;const bidirectional_map_js_1=require("../util/bidirectional-map.js");class SessionMap{constructor(){this.sessionMap=new bidirectional_map_js_1.BidirectionalMap}getSocketId(e){return this.sessionMap.getByValue(e)}getThreadId(e){return this.sessionMap.getByKey(e)}setSession(e,s){this.sessionMap.checkByKey(e)&&this.sessionMap.deleteByKey(e),this.sessionMap.checkByValue(s)&&this.sessionMap.deleteByValue(s),this.sessionMap.set([e,s])}deleteByThreadId(e){this.sessionMap.deleteByValue(e)}deleteBySocketId(e){this.sessionMap.deleteByKey(e)}checkBySocketId(e){return this.sessionMap.checkByKey(e)}checkByThreadId(e){return this.sessionMap.checkByValue(e)}}function getThreadId(e,s){return`${e}@${s}`}function resolveThreadId(e){return e.split("@").map((e=>parseInt(e)))}exports.SessionMap=SessionMap,exports.getThreadId=getThreadId,exports.resolveThreadId=resolveThreadId;