"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.configureDaemonClient=exports.HvigorDaemonClientLogger=void 0;const log4js_1=__importDefault(require("log4js")),path_1=__importDefault(require("path")),hvigor_log_js_1=require("../../log/hvigor-log.js"),log_event_js_1=require("../../metrics/event/log-event.js"),daemon_const_js_1=require("../const/daemon-const.js"),daemonConfiguration={appenders:{"daemon-client-file":{type:"fileSync",filename:path_1.default.resolve(daemon_const_js_1.DAEMON_LOG_PATH,"daemon-client.log"),maxLogSize:10485760,backups:2,encoding:"utf-8"}},categories:{"daemon-client":{appenders:["daemon-client-file","just-debug","just-info","just-wrong"],level:"debug"}}};class HvigorDaemonClientLogger extends hvigor_log_js_1.HvigorLogger{constructor(e){super("default"),this._daemonClientFileLogger=log4js_1.default.getLogger(e)}static getLogger(e){return new HvigorDaemonClientLogger(e)}log(e,...o){this.createLogEventByDurationId(e,log_event_js_1.MetricLogType.INFO,...o),this._daemonClientFileLogger.log(e,...o)}debug(e,...o){this.createLogEventByDurationId(e,log_event_js_1.MetricLogType.DEBUG,...o),this._daemonClientFileLogger.debug(e,...o)}info(e,...o){this.createLogEventByDurationId(e,log_event_js_1.MetricLogType.INFO,...o),this._daemonClientFileLogger.info(e,...o)}warn(e,...o){void 0!==e&&""!==e&&(this.createLogEventByDurationId(e,log_event_js_1.MetricLogType.WARN,...o),this._daemonClientFileLogger.warn(e,...o))}error(e,...o){this.createLogEventByDurationId(e,log_event_js_1.MetricLogType.ERROR,...o),this._daemonClientFileLogger.error(e,...o)}clientErrorLink(){this.error(`A log of client process can be found in: ${path_1.default.resolve(daemon_const_js_1.DAEMON_LOG_PATH,"daemon-client.log")}`)}daemonErrorLink(e){this.error(`A log of daemon process can be found in: ${path_1.default.resolve(daemon_const_js_1.DAEMON_LOG_PATH,`daemon-${e}.log`)}`)}clientWarnLink(){this.warn(`A log of client process can be found in: ${path_1.default.resolve(daemon_const_js_1.DAEMON_LOG_PATH,"daemon-client.log")}`)}daemonWarnLink(e){this.warn(`A log of daemon process can be found in: ${path_1.default.resolve(daemon_const_js_1.DAEMON_LOG_PATH,`daemon-${e}.log`)}`)}}function configureDaemonClient(){(0,hvigor_log_js_1.configure)(daemonConfiguration)}exports.HvigorDaemonClientLogger=HvigorDaemonClientLogger,exports.configureDaemonClient=configureDaemonClient;