"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalFileWriter=void 0;const fs_extra_1=__importDefault(require("fs-extra")),path_1=__importDefault(require("path")),replacer_js_1=require("../../common/util/replacer.js");class LocalFileWriter{constructor(){this._replacer=replacer_js_1.replacer,this._space=2}withSpace(e){this._space=e}withReplacer(e){this._replacer=e}write(e,r){this.writeStr(e,JSON.stringify(r,this._replacer,this._space))}writeStr(e,r){const t=path_1.default.dirname(e);fs_extra_1.default.existsSync(t)||fs_extra_1.default.mkdirSync(t,{recursive:!0}),fs_extra_1.default.writeFileSync(e,r)}static getInstance(){return LocalFileWriter.instance||(LocalFileWriter.instance=new LocalFileWriter),LocalFileWriter.instance}}exports.LocalFileWriter=LocalFileWriter;