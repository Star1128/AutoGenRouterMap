"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PrependBOMEncoderWrapper=exports.StripBOMDecoderWrapper=void 0;const BOMChar="\ufeff";class StripBOMDecoderWrapper{constructor(e,r){this.decoder=e,this.pass=!1,this.options=r||{}}write(e){const r=Buffer.isBuffer(e)?e:Buffer.from(e);let t=this.decoder.write(r);return this.pass||!t||("\ufeff"===t[0]&&(t=t.slice(1)),this.pass=!0),t}end(){return this.decoder.end()}}exports.StripBOMDecoderWrapper=StripBOMDecoderWrapper;class PrependBOMEncoderWrapper{constructor(e,r){this.encoder=e,this.addBOM=!0}write(e){return this.addBOM&&(e="\ufeff"+e,this.addBOM=!1),this.encoder.write(e)}end(){return this.encoder.end()}}exports.PrependBOMEncoderWrapper=PrependBOMEncoderWrapper;