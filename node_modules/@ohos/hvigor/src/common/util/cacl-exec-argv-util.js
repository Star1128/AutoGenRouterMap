"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.calcChildExecArgv=void 0;const process_1=__importDefault(require("process")),hvigor_config_reader_js_1=require("../../base/util/hvigor-config-reader.js");function calcChildExecArgv(){var e,i,o,r;const s=null===(i=null===(e=hvigor_config_reader_js_1.HvigorConfigReader.getHvigorConfig())||void 0===e?void 0:e.nodeOptions)||void 0===i?void 0:i.maxOldSpaceSize,d=process_1.default.execArgv,_=d.findIndex((e=>e.startsWith("--max-old-space-size=")));if(-1!==_&&d[_])d[_]=s?`--max-old-space-size=${s}`:`--max-old-space-size=${null===hvigor_config_reader_js_1.defaultOptions||void 0===hvigor_config_reader_js_1.defaultOptions?void 0:hvigor_config_reader_js_1.defaultOptions.maxOldSpaceSize}`;else{const e=s||(null===hvigor_config_reader_js_1.defaultOptions||void 0===hvigor_config_reader_js_1.defaultOptions?void 0:hvigor_config_reader_js_1.defaultOptions.maxOldSpaceSize);d.push(`--max-old-space-size=${e}`)}const a=null===(r=null===(o=hvigor_config_reader_js_1.HvigorConfigReader.getHvigorConfig())||void 0===o?void 0:o.nodeOptions)||void 0===r?void 0:r.exposeGC,t=d.indexOf("--expose-gc");return!1===a||-1!==t&&d[t]?!1!==a||-1===t&&!d[t]||d.splice(t,1):d.push("--expose-gc"),d}exports.calcChildExecArgv=calcChildExecArgv;