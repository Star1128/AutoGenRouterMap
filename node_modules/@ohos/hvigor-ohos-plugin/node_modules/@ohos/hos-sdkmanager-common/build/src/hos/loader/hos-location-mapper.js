"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateSdkName=exports.generatePath=void 0;const sdkmanager_common_1=require("@ohos/sdkmanager-common"),path_1=__importDefault(require("path")),hos_component_constants_1=require("../const/hos-component-constants");function generatePath(e){if((0,sdkmanager_common_1.isEmpty)(e.getPath()))return"";const t=e;return e.hasApiVersion()?path_1.default.join(resolveComponentPath(generateSdkName(t))):resolveComponentPath(e.getPath())}function generateSdkName(e){const t=e.getStage();if(!t)return e.getPath();let n="";const r=hos_component_constants_1.HOS_CONFIG.sdkSufNameMapper;for(const e of Object.keys(r))if(t.startsWith(e)&&r[e]){n=t.replace(e,r[e]);break}if(!n)return e.getPath();const a=e.getPath();if(a.startsWith("system-image")){const e=a.lastIndexOf(",");return`${a.substring(0,e)}-${n}${a.substring(e)}`}return`${a}-${n}`}function resolveComponentPath(e){return e.replace(",",path_1.default.sep)}exports.generatePath=generatePath,exports.generateSdkName=generateSdkName;