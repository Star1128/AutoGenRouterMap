"use strict";var __importDefault=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ValidatorStore=void 0;const ajv_1=__importDefault(require("ajv")),fs_extra_1=__importDefault(require("fs-extra"));class ValidatorStore{static getValidator(a){return ValidatorStore.validatorMap.get(a)}static hasValidator(a){return ValidatorStore.validatorMap.has(a)}static addValidator(a,t=!1){const r=`${a}:${t}`;if(ValidatorStore.hasValidator(r))return ValidatorStore.getValidator(r);const e=fs_extra_1.default.readJSONSync(a);t&&(e.properties.app.required=["bundleName","versionCode","versionName"]);const o=new ajv_1.default({strict:!1,allErrors:!0}).compile(e);return ValidatorStore.validatorMap.set(r,o),o}static clear(){ValidatorStore.validatorMap.clear()}static getValidatorMap(){return ValidatorStore.validatorMap}}exports.ValidatorStore=ValidatorStore,ValidatorStore.validatorMap=new Map;