"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validatePackageBySystemHspModel=void 0;const wdk_1=require("@baize/wdk"),find_target_product_js_1=require("../../common/find-target-product.js"),project_ohos_config_manager_js_1=require("../../common/global/project-ohos-config-manager.js"),ohos_logger_js_1=require("../log/ohos-logger.js"),_log=ohos_logger_js_1.OhosLogger.getLogger("hvigor-validateSystemHsp");function validatePackageBySystemHspModel(e,o,r,t){var d,a,s;const l=(0,wdk_1.cloneDeep)(null===(d=project_ohos_config_manager_js_1.projectOhosConfigManager.getOverrides())||void 0===d?void 0:d.appOpt),i=(0,find_target_product_js_1.findTargetProduct)(e.getProjectModel());"shared"===(null!==(s=null!==(a=null==l?void 0:l.bundleType)&&void 0!==a?a:i.bundleType)&&void 0!==s?s:o.app.bundleType)&&_log._buildError(`module type must be shared when bundleType is shared.\n        module name : ${t.module.name}`)._detail("Modify module type in the module.json5.")._file(r)._printErrorAndExit()}exports.validatePackageBySystemHspModel=validatePackageBySystemHspModel;