"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProjectTaskInitializer=void 0;const hvigor_1=require("@ohos/hvigor"),clean_js_1=require("../tasks/common/clean.js"),task_names_js_1=require("../tasks/common/task-names.js"),generate_pack_res_js_1=require("../tasks/generate-pack-res.js"),assemble_app_js_1=require("../tasks/hook/assemble/assemble-app.js"),make_project_pack_info_js_1=require("../tasks/make-project-pack-info.js"),package_app_js_1=require("../tasks/package-app.js"),pre_build_app_js_1=require("../tasks/pre-build-app.js"),sign_app_js_1=require("../tasks/sign-app.js"),sync_project_js_1=require("../tasks/sync/sync-project.js");var SyncTask=task_names_js_1.TaskNames.SyncTask;const coverageCollect_js_1=require("../tasks/coverageCollect/coverageCollect.js"),duplicate_dependency_check_js_1=require("../tasks/duplicate-dependency-check.js"),ohos_logger_js_1=require("./log/ohos-logger.js"),log=new ohos_logger_js_1.OhosLogger("TaskInitialization");class ProjectTaskInitializer{static initialize(e,s){const a=process.hrtime(),r=e._project,t=e.getTaskService();r.registry(new assemble_app_js_1.AssembleApp(r,t)),r.registry(new clean_js_1.Clean(r,t)),r.registry(new coverageCollect_js_1.CoverageCollect(r,t)),r.registry(new sync_project_js_1.SyncProject(r,SyncTask.syncTaskName(r.getName()))),this.taskInitialize(r,t),log.debug(`Project task initialization takes ${(0,hvigor_1.formatTime)(process.hrtime(a))}`)}static taskInitialize(e,s){e.registry(new sign_app_js_1.SignApp(e,s)),e.registry(new package_app_js_1.PackageApp(e,s)),e.registry(new generate_pack_res_js_1.GeneratePackRes(e,s)),e.registry(new pre_build_app_js_1.PreBuildApp(e,s)),e.registry(new duplicate_dependency_check_js_1.DuplicateDependencyCheck(e,s)),e.registry(new make_project_pack_info_js_1.MakeProjectPackInfo(e,s))}}exports.ProjectTaskInitializer=ProjectTaskInitializer;