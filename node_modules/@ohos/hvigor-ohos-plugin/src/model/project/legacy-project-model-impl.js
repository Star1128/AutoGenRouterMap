"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LegacyProjectModelImpl=void 0;const module_type_enum_js_1=require("../../enum/module-type-enum.js"),legacy_module_model_impl_js_1=require("../module/legacy-module-model-impl.js"),core_project_model_impl_js_1=require("./core-project-model-impl.js"),common_const_js_1=require("../../const/common-const.js");class LegacyProjectModelImpl extends core_project_model_impl_js_1.CoreProjectModelImpl{constructor(e){super(e)}initSubProject(){this.project.getSubModules().forEach(((e,o)=>{this.subModels.set(o,new legacy_module_model_impl_js_1.LegacyModuleModelImpl(e,this))}))}getDefaultBundleName(){let e="";try{this.subModels.forEach((o=>{if(o.getModuleType()===module_type_enum_js_1.ModuleType.Entry){throw e=o.getSourceSetByTargetName().getLegacyModuleTargetRes().getConfigJsonOpt().app.bundleName,new Error("End loop.")}}))}catch(e){}return e}getBundleType(){for(const[,e]of this.subModels.entries())if(e.getModuleType()===module_type_enum_js_1.ModuleType.Entry){return e.isInstallFree()?common_const_js_1.BundleType.ATOMIC_SERVICE:common_const_js_1.BundleType.APP}return common_const_js_1.BundleType.APP}isFaMode(){return!0}}exports.LegacyProjectModelImpl=LegacyProjectModelImpl;