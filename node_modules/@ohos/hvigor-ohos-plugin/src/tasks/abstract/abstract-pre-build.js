"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i);var o=Object.getOwnPropertyDescriptor(t,i);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,s,o)}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&__createBinding(t,e,i);return __setModuleDefault(t,e),t},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractPreBuild=void 0;const wdk_1=require("@baize/wdk"),hvigor_1=require("@ohos/hvigor"),fs=__importStar(require("fs")),fs_extra_1=__importDefault(require("fs-extra")),path_1=__importDefault(require("path")),common_util_js_1=require("../../common/common-util.js"),project_ohos_config_manager_js_1=require("../../common/global/project-ohos-config-manager.js"),build_directory_const_js_1=require("../../const/build-directory-const.js"),common_const_js_1=require("../../const/common-const.js"),device_type_const_js_1=require("../../const/device-type-const.js"),sdk_const_js_1=require("../../const/sdk-const.js"),code_type_enum_js_1=require("../../enum/code-type-enum.js"),runtime_type_enum_js_1=require("../../enum/runtime-type-enum.js"),hap_extra_info_js_1=require("../../project/data/hap-extra-info.js"),project_extra_info_service_js_1=require("../../project/project-extra-info-service.js"),file_util_js_1=require("../../utils/file-util.js"),inject_util_js_1=require("../../utils/inject-util.js"),ohos_logger_js_1=require("../../utils/log/ohos-logger.js"),validate_util_js_1=require("../../utils/validate/validate-util.js"),har_extend_info_js_1=require("../har/har-extend-info.js"),ohos_hap_task_js_1=require("../task/ohos-hap-task.js"),json_reader_1=require("@ohos/hvigor/src/base/util/json-reader"),module_type_enum_js_1=require("../../enum/module-type-enum.js"),cmake_util_js_1=require("../../utils/cmake-util.js"),json_util_js_1=require("../../utils/json-util.js"),log_adaptor_js_1=require("../../utils/log/log-adaptor.js"),abstract_merge_profile_js_1=require("../abstract-merge-profile.js");class AbstractPreBuild extends ohos_hap_task_js_1.OhosHapTask{constructor(e,t){var i,s;super(e,t),this._log=ohos_logger_js_1.OhosLogger.getLogger(AbstractPreBuild.name),this.apiType=this.moduleModel.getApiType(),this.targetStatusCode=this.targetService.getTargetData().getTargetStatus().getStatusCode(),this.syscapJsonPath=path_1.default.resolve(null===(i=this.moduleModel)||void 0===i?void 0:i.getSourceRootByTargetName(this.targetName),common_const_js_1.CommonConst.SYSCAP_JSON),this.containsEts=this.moduleModel.getSourceSetByTargetName(this.targetData.getTargetName()).getCodeMap().has(code_type_enum_js_1.CodeType.ETS),this.deviceTypes=this.targetData.getTargetDeviceType(),this.dependencies=this.getDependencies(this.moduleModel,!0),this.compilePluginFile=null===(s=this.targetService.getBuildOption().arkOptions)||void 0===s?void 0:s.compilePluginFile,this.dynamicDependencies=this.getModuleDynamicDependencies(),this.jsonProfile=this.moduleModel.getJsonProfileByModel(this.service,this.targetName),this.fromConfigFilePathArr=this.getFromConfigFilePathArr(),this.entryCardPath=path_1.default.resolve(this.moduleModel.getParentProject().getProjectDir(),"EntryCard"),this.projectProfilePath=this.projectModel.getProfilePath(),this.profilePath=this.moduleModel.getProfilePath()}declareInputs(){const e=this.sdkInfo.getToolchainsComponentVersion(),t=new Map;t.set("compileApiVersion",this.compileApiVersion).set("compatibleApiVersion",this.compatibleApiVersion).set("targetStatusCode",this.targetStatusCode).set("apiType",this.apiType).set("deviceType",this.deviceTypes).set("codeType",this.containsEts).set("sdkToolchainsComponentVersion",e).set("profileModuleName",this.moduleName).set(abstract_merge_profile_js_1.INPUT_KEY.moduleJsonOpt,JSON.stringify(this.jsonProfile)).set("isSupportOhpmProj",this.supportOHPM()),void 0!==this.compilePluginFile&&t.set("compilePluginFile",this.compilePluginFile);const i=this.targetService.getCustomTypes();if(t.set("customTypes",null!=i?i:""),i&&Array.isArray(i)&&i.length>0)for(const e of i){if(this.dependencies[e]||this.dependencies[`@types/${e}`])continue;const i=this.getCustomTypePathExist(e);t.set(e,!!i)}return t}declareInputFiles(){const e=super.declareInputFiles();return fs_extra_1.default.existsSync(this.jsonProfile.jsonFilePath)&&e.addEntry(this.jsonProfile.jsonFilePath),this.fromConfigFilePathArr.forEach((t=>{e.addEntry(t)})),e}async beforeAlwaysAction(){await super.beforeAlwaysAction(),this.checkEntryModules()}initTaskDepends(){}async doTaskAction(){if(this.isPackingTestPackage())throw(0,common_util_js_1.isSingleFramework)()?new Error("API version 9 or later and Lite-Device projects do not support compilation test packages."):new Error("API version 8 or later and Lite-Device projects do not support compilation test packages.");this.versionCheck(),this.checkCodeTypeForWearable(),this.checkCodeTypeForLiteWearable(),this.checkOhpmProjectSdkVersion(),this.doValidateForDiffApiType(),this.checkApiVersionForUnitTest(),this.checkRequestPermissions(),this.validateAtomicService(),this.checkWidget(),this._log._printDebugCommand(`${process.platform}: JAVA_HOME, CLASSPATH`,[{JAVA_HOME:process.env.JAVA_HOME},{CLASSPATH:process.env.CLASSPATH}]),this._log._printDebugCommand(`${process.platform}: NODE_HOME`,[{NODE_HOME:process.env.NODE_HOME}]),this.checkCustomTypesSupport(),this.checkHvigorPluginFile(),this.checkDynamicDependenciesSupport(),this.checkWorkerConfig(),this.checkExtendSourceDirs(),await this.checkPackageJson5Config(),this.checkDeviceTypes(),this.checkPathChinese()}checkPathChinese(){this.moduleModelNodePaths.forEach((e=>{/[\u4e00-\u9fff]/.test(e)&&this._log._buildError("The Node directory and node name cannot contain Chinese characters.")._file(e)._printErrorAndExit(e)}))}checkDeviceTypes(){const e=hvigor_1.hvigorCore.getExtraConfig().get(common_const_js_1.CommonConst.REQUIRED_DEVICE_TYPE);if(void 0===e||this.moduleModel.isHarModule())return;const t=this.moduleModel.getDeviceTypes();(new Map([["phone",["phone","default"]],["default",["phone","default"]],["tablet",["tablet","2in1"]],["2in1",["tablet","2in1"]]]).get(e)||[e]).some((e=>t.includes(e)))||this._log.printErrorExit(new log_adaptor_js_1.OhosLogAdaptor("HE10302",hvigor_1.globalData.buildId).formatMessage(this.moduleModel.getName(),e,t.join()).getLogMessage())}checkHvigorPluginFile(){const e=this.compilePluginFile;if(void 0===e)return;this.moduleModel.isHarModule()&&!new har_extend_info_js_1.HarExtendInfo(this.moduleModel,this.targetService.getBuildOption()).isObfuscatedHar()&&this._log._buildError("'compilePluginFile' won't work for an unobfuscated library.")._file(this.moduleModel.getProfilePath())._printWarn(this.moduleName),e.startsWith(`./${build_directory_const_js_1.BuildDirConst.HVIGOR_COMPILE}/`)||this._log._buildError(`'compilePluginFile' must start with './${build_directory_const_js_1.BuildDirConst.HVIGOR_COMPILE}/'.`)._file(this.moduleModel.getProfilePath())._printErrorAndExit();const t=path_1.default.resolve(this.moduleModel.getProjectDir(),build_directory_const_js_1.BuildDirConst.HVIGOR_COMPILE);let i=path_1.default.resolve(this.moduleModel.getProjectDir(),e);i.startsWith(t+path_1.default.sep)||this._log._buildError(`'compilePluginFile' is not under directory: '${t}'.`)._file(this.moduleModel.getProfilePath())._printErrorAndExit(),this.checkSuffix(i),fs_extra_1.default.existsSync(i)||(i=`${i}.ts`,fs_extra_1.default.existsSync(i)||this._log._buildError("'compilePluginFile' does not exist.")._file(this.moduleModel.getProfilePath())._printErrorAndExit())}checkSuffix(e){const t=e.split(path_1.default.sep),i=t.length;if(0===i)return!0;const s=t[i-1],o=s.lastIndexOf(".");if(o>0){".ts"!==s.substring(o)&&this._log._buildError("'compilePluginFile' must end with .ts.")._file(this.moduleModel.getProfilePath())._printErrorAndExit()}return!0}isPackingTestPackage(){return this.targetName===common_const_js_1.DefaultTargetConst.OHOS_TEST_TARGET&&this.compileApiVersion>=sdk_const_js_1.ApiVersion.API_VERSION_8&&this.service.hasLiteDevice()}supportOHPM(){return this.sdkInfo.supportOhpmProject(this.targetData.isHarmonyOS())}async checkPackageJson5Config(){if(this.moduleModel.getModuleType()!==module_type_enum_js_1.ModuleType.Har&&this.moduleModel.getModuleType()!==module_type_enum_js_1.ModuleType.Shared)return;const e=await hvigor_1.Json5Reader.readJson5File(this.packageManagerPath),t=this.moduleModel.getProjectDir();if(this.checkMainAndTypesFile(e.main,e.types),e.main&&!fs.existsSync(path_1.default.resolve(t,e.main))&&this._log._buildError(`Invalid main file ${e.main} defined in ${common_const_js_1.CommonConst.OH_PACKAGE_JSON5}.`)._file(this.moduleModel.getOhPackageJson5Path())._printErrorAndExit(this.moduleName),e.types&&!fs.existsSync(path_1.default.resolve(t,e.types))&&this._log.warn(`Invalid types file ${e.types} defined in ${this.moduleModel.getName()} ${common_const_js_1.CommonConst.OH_PACKAGE_JSON5}.`),e.main){const i=path_1.default.resolve(t,e.main);fs.existsSync(i)&&!i.includes(t)&&this._log.warn(`Do not configure cross-module file ${e.main} defined in ${this.moduleModel.getName()} ${common_const_js_1.CommonConst.OH_PACKAGE_JSON5}.`)}if(e.types){const i=path_1.default.resolve(t,e.types);fs.existsSync(i)&&!i.includes(t)&&this._log.warn(`Do not configure cross-module file ${e.types} defined in ${this.moduleModel.getName()} ${common_const_js_1.CommonConst.OH_PACKAGE_JSON5}.`)}}checkMainAndTypesFile(e,t){if(e||t||this._log.warn(`Set either main or types, or both for this HSP/HAR module. at ${this.moduleModel.getName()} ${common_const_js_1.CommonConst.OH_PACKAGE_JSON5}.`),e){const t=file_util_js_1.FileUtil.getFileSuffix(e);("ets"!==t&&"ts"!==t&&"js"!==t||e.endsWith(".d.ets")||e.endsWith(".d.ts"))&&this._log._buildError("The value of main must be a .ets, .ts, or .js file.")._file(this.moduleModel.getOhPackageJson5Path())._printErrorAndExit(this.moduleName)}t&&(t.endsWith(".d.ets")||t.endsWith(".d.ts")||this._log.warn(`The value of types must be a .d.ts or .d.ets file. at ${this.moduleModel.getName()} ${common_const_js_1.CommonConst.OH_PACKAGE_JSON5}.`))}checkWorkerConfig(){var e,t;const i=null===(t=null===(e=this.targetService.getBuildOption())||void 0===e?void 0:e.sourceOption)||void 0===t?void 0:t.workers;if(!i)return;const s=cmake_util_js_1.CmakeUtil.getMayBeOccurErrorsFilePath(this.moduleModel);i.forEach((e=>{path_1.default.isAbsolute(e)&&!file_util_js_1.FileUtil.fileExists(e)?this._log._buildError(`Cannot find file '${e}' The worker path must exist.`)._file(s)._printErrorAndExit():file_util_js_1.FileUtil.fileExists(file_util_js_1.FileUtil.convertToAbsolutePath(e,this.moduleModel.getProjectDir()))||this._log._buildError(`Cannot find file '${e}' under current module '${this.moduleName}'. The worker path must exist.`)._file(s)._printErrorAndExit(),[".js",".ts",".ets"].includes(path_1.default.extname(e))||this._log._buildError(`Field 'workers' only accepts path ends with '.js', '.ts' or '.ets'. Find path: ${e}'.`)._file(s)._printErrorAndExit()}))}versionCheck(){const e=validate_util_js_1.ValidateUtil.apiCompatibleCheck(this.projectModel,this.targetData,this.moduleModel),t=this.checkArkTSCompatibility(),i=e.suggestedVersion>t.suggestedVersion?e.errorHandler:t.errorHandler;i&&i()}checkCodeTypeForWearable(){this.deviceTypes.includes(device_type_const_js_1.DeviceTypeConst.WEARABLE)&&this.containsEts&&this.compatibleApiVersion===sdk_const_js_1.ApiVersion.API_VERSION_8&&this._log._buildError("Wearable devices for API version 8 support only JS.")._printErrorAndExit(this.moduleModel.getName())}checkCodeTypeForLiteWearable(){(this.deviceTypes.includes(device_type_const_js_1.DeviceTypeConst.LITE_WEARABLE)||this.deviceTypes.includes(device_type_const_js_1.DeviceTypeConst.SMART_VISION))&&this.containsEts&&this.compatibleApiVersion>=sdk_const_js_1.ApiVersion.API_VERSION_8&&((0,common_util_js_1.isSingleFramework)()?this._log._buildError("Lite-wearable devices with API version 9 or later support only JS.")._printErrorAndExit(this.moduleModel.getName()):this._log._buildError("Lite-wearable devices with API version 8 or later support only JS.")._printErrorAndExit(this.moduleModel.getName()))}checkOhpmProjectSdkVersion(){if(this.isOhpmProject&&!this.supportOHPM()){const e=this.sdkInfo.getSdkVersion(),t=project_extra_info_service_js_1.ProjectExtraInfoService.getProjectRuntimeOS(this.projectModel)===runtime_type_enum_js_1.RuntimeTypeEnum.HARMONY_OS?"SDK > HarmonyOS":"SDK > OpenHarmony";this._log._buildError("The SDK version configured for the current project is too low.")._detail(`Update the SDK of API version ${e} to the latest version by going to Tools > SDK Manager > ${t}. Open SDK Manager`)._printErrorAndExit(this.moduleModel.getName())}}checkApiVersionForUnitTest(){inject_util_js_1.InjectUtil.isUnitTestProcess()&&this.apiType===hap_extra_info_js_1.ApiType.FA&&this._log._buildError("FA mode does not support unit test.")._printErrorAndExit(this.moduleModel.getName())}validateModuleName(e,t,i){if(e!==t){const s=this.service.getProjectModel().getProfilePath();this._log._buildError(`The module name ${e} in build-profile.json5 or hvigorconfig.ts must be same as moduleName in ${i}.`)._solution(`Change '${e}' to '${t}'`)._file(s)._printErrorAndExit(t)}}getBundleType(){var e,t,i;const s=(0,wdk_1.cloneDeep)(null===(e=project_ohos_config_manager_js_1.projectOhosConfigManager.getOverrides())||void 0===e?void 0:e.appOpt);return null!==(i=null!==(t=null==s?void 0:s.bundleType)&&void 0!==t?t:this.targetData.getProduct().bundleType)&&void 0!==i?i:this.projectModel.getBundleType()}isAtomicServiceProject(){return this.getBundleType()===common_const_js_1.BundleType.ATOMIC_SERVICE}checkArkTSCompatibility(){const e=this.moduleModel.getSourceSetByTargetName(this.targetData.getTargetName()).getCodeMap().get(code_type_enum_js_1.CodeType.ETS);return(null==e?void 0:e.getSrcPath())&&this.compatibleApiVersion<7?{suggestedVersion:7,errorHandler:()=>{this._log._buildError("The minimum compatible version of ArkTS is 7.")._solution("Modify build-profile.json5 compatibleSdkVersion to 7 or later.")._file(this.projectModel.getProfilePath())._printErrorAndExit()}}:{suggestedVersion:-1}}checkCustomTypesSupport(){const e=this.targetService.getCustomTypes();if(!e||Array.isArray(e)&&0===e.length)return;this.compileApiVersion<sdk_const_js_1.ApiVersion.API_VERSION_10&&this._log._buildError("Only API version 10 or later supports custom types.")._detail(`Modify build-profile.json5 api version to ${sdk_const_js_1.ApiVersion.API_VERSION_10} or later.`)._file(this.projectModel.getProfilePath())._printErrorAndExit();this.moduleModel.getSourceSetByTargetName(this.targetData.getTargetName()).getCodeMap().get(code_type_enum_js_1.CodeType.ETS)||this._log._buildError("Only ArkTS project supports custom types.")._detail(`Create an API version ${sdk_const_js_1.ApiVersion.API_VERSION_10} or later project with ArkTS language to use custom types.`)._printErrorAndExit(),this.checkCustomTypesIsValid(e)}checkCustomTypesIsValid(e){this.checkCustomTypeExtName(e,this.dependencies),this.checkCustomTypePathIsValid(e,this.dependencies)}checkCustomTypePathIsValid(e,t){const i=[];for(const s of e)t[s]||t[`@types/${s}`]||this.getCustomTypePathExist(s)||i.push(s);i.length>0&&this._log._buildError(`Can not find the custom type's declaration file. [${i.join(",")}]`)._detail("Please check custom type's declaration file is exist.")._file(this.moduleModel.getProfilePath())._printErrorAndExit()}checkCustomTypeExtName(e,t){for(const i of e){if(t[i]||t[`@types/${i}`])continue;if(""===path_1.default.extname(i))continue;const e=path_1.default.isAbsolute(i)?i:path_1.default.resolve(this.moduleModel.getProjectDir(),i);if(fs.existsSync(e)){for(const e of common_const_js_1.CustomTypesConst.CUSTOM_TYPES_SUFFIX)i.endsWith(e)&&this._log._buildError(`The custom type's declaration file '${i}' does not require the suffix '${e}'.`)._detail(`Please remove the suffix '${e}' of type '${i}'`)._file(this.moduleModel.getProfilePath())._printErrorAndExit();this._log._buildError(`The suffix of custom type's declaration file '${i}' is not valid`)._detail("Please check the extension of custom type's declaration file is .d.ts or .d.ets.")._file(this.moduleModel.getProfilePath())._printErrorAndExit()}}}getCustomTypePathExist(e){const t=path_1.default.isAbsolute(e)?e:path_1.default.resolve(this.moduleModel.getProjectDir(),e);for(const e of common_const_js_1.CustomTypesConst.CUSTOM_TYPES_SUFFIX){const i=`${t}${e}`;if(fs.existsSync(`${t}${e}`))return i}for(const e of common_const_js_1.CustomTypesConst.CUSTOM_TYPES_INDEX){const i=path_1.default.resolve(t,e);if(fs.existsSync(i))return i}}getModuleDynamicDependencies(){const e=this.isOhpmProject?this.moduleModel.getOhPackageJson5Path():this.moduleModel.getPackageJsonPath();let t={};if(fs.existsSync(e)){t={dynamicDependencies:t,...hvigor_1.Json5Reader.getJson5Obj(e).dynamicDependencies}}return t}checkDynamicDependenciesSupport(){Object.keys(this.dynamicDependencies).length>1&&(this.isFaMode||this.compileApiVersion<9||!this.containsEts)&&this._log._buildError(`current module ${this.moduleName} not supports dynamicDependencies.`)._detail(`Create an API version ${sdk_const_js_1.ApiVersion.API_VERSION_9} or later project with ArkTS language with stageMode to use dynamicDependencies.`)._printErrorAndExit()}checkDimension(e,t){var i;const s=[];null===(i=null==e?void 0:e.forms)||void 0===i||i.forEach((e=>{e.supportDimensions.includes(e.defaultDimension)||s.push(e.name)})),0!==s.length&&this._log._buildError(`Invalid default dimension settings in these widgets: "${s.join('","')}". Make sure the value of defaultDimension is contained within that of supportDimensions.`)._file(t)._printErrorAndExit()}checkEntryModules(){const e=this.service.getModuleModel(),t=e.getProfileOpt().entryModules,i=e.getProfilePath();this.apiType===hap_extra_info_js_1.ApiType.STAGE&&t&&this._log.warn(`In the stageMode project, the entryModules field configured in feature module is deprecated, but the compatibility of the old project is still maintained.\n         You can configured it in ${i} .`)}getFromConfigFilePathArr(){const e=[],t=this.jsonProfile.profile.module.extensionAbilities,i=null==t?void 0:t.map((e=>e.metadata));null==i||i.forEach((t=>{const i=null==t?void 0:t.map((e=>e.resource));null==i||i.forEach((t=>t?e.push(t):void 0))}));const s=[];return e.forEach((e=>{const t=this.pathInfo.getFromConfigPathByTargetName(this.moduleModel,this.targetName,(0,common_util_js_1.parsingProfileName)(e));t&&fs_extra_1.default.existsSync(t)&&s.push(t)})),s}checkWidget(){this.isFaMode||this.targetData.getCompileApiVersion()<sdk_const_js_1.ApiVersion.API_VERSION_9||this.targetName===common_const_js_1.DefaultTargetConst.OHOS_TEST_TARGET||this.fromConfigFilePathArr.forEach((e=>{const t=(0,json_util_js_1.getJson5Obj)(e,"utf-8");this.checkDimension(t,e)}))}checkRequestPermissions(){this.isFaMode||this.targetName===common_const_js_1.DefaultTargetConst.OHOS_TEST_TARGET||this.checkLegalReqPermissions(this.jsonProfile.profile);const e=this.findDuplicatedPermissions(this.jsonProfile.profile);0!==e.length&&this._log._buildError(`Duplicate permission names detected under "${this.isFaMode?"reqPermissions":"requestPermissions"}": "${e.join('","')}". Remove them to make sure each name is unique.`)._file(this.jsonProfile.jsonFilePath)._printErrorAndExit()}findDuplicatedPermissions(e){const t=[],i=[],s=this.isFaMode?e.module.reqPermissions:e.module.requestPermissions;return null==s||s.forEach((e=>{t.includes(e.name)&&!i.includes(e.name)?i.push(e.name):t.push(e.name)})),i}checkLegalReqPermissions(e){const t=this.isFaMode?e.module.reqPermissions:e.module.requestPermissions;void 0!==t&&t.length>0&&this.checkReqPermissionsByModuleType(t)}checkReqPermissionsByModuleType(e){const t=json_reader_1.JsonReader.getJsonObj(path_1.default.resolve(__dirname,"../../../res/permissions/userGrantPermissions.json"),"utf-8").userGrantPermissions;if(this.moduleModel.isHapModule())for(const i of e)!t.includes(i.name)||void 0!==i.reason&&void 0!==i.usedScene||this._log.printErrorExit(new log_adaptor_js_1.OhosLogAdaptor("HE10309",hvigor_1.globalData.buildId).formatMessage(`The reason and usedScene attributes are mandatory for user_grant permissions. \n              at ${this.jsonProfile.jsonFilePath}`).getLogMessage());if(this.moduleModel.isHspModule()||this.moduleModel.isHarModule())for(const i of e)t.includes(i.name)&&void 0===i.reason&&this._log.printErrorExit(new log_adaptor_js_1.OhosLogAdaptor("HE10309",hvigor_1.globalData.buildId).formatMessage(`The reason attributes are mandatory for user_grant permissions. \n              at ${this.jsonProfile.jsonFilePath}`).getLogMessage())}isValidWidget(e,t,i){return e?file_util_js_1.FileUtil.fileExists(i):file_util_js_1.FileUtil.fileExists(`${i}.hml`)||this.visualExists(`${i}.visual`)}visualExists(e){const t=e.replace(`${path_1.default.sep}js${path_1.default.sep}`,`${path_1.default.sep}supervisual${path_1.default.sep}`);return file_util_js_1.FileUtil.fileExists(t)}}exports.AbstractPreBuild=AbstractPreBuild;