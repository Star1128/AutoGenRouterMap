"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CopyWorker=void 0;const hvigor_1=require("@ohos/hvigor"),path_1=__importDefault(require("path")),copy_job_js_1=require("./copy-job.js");class CopyWorker{static async submitCopyResourcesWork(e,o,r,t,s,i){r.debug(`CopyResources startTime: ${process.hrtime.bigint()}`);const p=o.submit(e,path_1.default.resolve(__dirname,"copy-job.js","copyByCopyOptions"),{workInput:t,callback:s,targetWorkers:i});return p.getState()===hvigor_1.TaskState.REJECT?(r.debug("Worker dispatch failed, running copy resources on main thread."),await(0,copy_job_js_1.copyByCopyOptions)(t).then((()=>{null==s||s()})).catch((e=>{throw e})),null):p.getId()}}exports.CopyWorker=CopyWorker;