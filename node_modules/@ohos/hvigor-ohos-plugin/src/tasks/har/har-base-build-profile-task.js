"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HarBaseBuildProfileTask=void 0;const hvigor_1=require("@ohos/hvigor"),build_profile_utils_js_1=require("../../utils/build-profile-utils.js"),ohos_logger_js_1=require("../../utils/log/ohos-logger.js"),task_util_js_1=require("../../utils/task-util.js"),ohos_har_task_js_1=require("../task/ohos-har-task.js");class HarBaseBuildProfileTask extends ohos_har_task_js_1.OhosHarTask{constructor(e,s){super(e,s),this._log=ohos_logger_js_1.OhosLogger.getLogger(HarBaseBuildProfileTask.name),this._taskService=e}initDefaultData(){this.harBuildProfileData={HAR_VERSION:this.packageJsonObj.version,BUILD_MODE_NAME:(0,task_util_js_1.getBuildModeName)(),DEBUG:this._taskService.isDebug(),TARGET_NAME:this._taskService.getTargetData().getTargetName()}}writeProfileToDir(){const e=this.targetService.getBuildProfileFields(),s=e?{...this.harBuildProfileData,...e}:{...this.harBuildProfileData};hvigor_1.LocalFileWriter.getInstance().writeStr(this.pathInfo.getHarGenerateBuildProfilePath(),(0,build_profile_utils_js_1.normalizedFileData)(s,this.targetData,this._log))}initTaskDepends(){}doTaskAction(){}}exports.HarBaseBuildProfileTask=HarBaseBuildProfileTask;