"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OhosAppTask=void 0;const hvigor_1=require("@ohos/hvigor"),trace_js_1=require("../../common/trace.js"),common_const_js_1=require("../../const/common-const.js"),error_util_js_1=require("../../error/error-util.js");class OhosAppTask extends hvigor_1.IncrementalExecTask{constructor(r,e,o){super(r,o),this.registryAction=()=>(this.initTrace(),this.doTaskAction),this.project=this.node,this.service=e,this.initTaskDepends(),this.getWorkerPool().warmUp(common_const_js_1.CommonConst.WARM_UP_SCRIPT)}onFailed(){trace_js_1.ohosTrace.setTaskName(this.getName()),(0,error_util_js_1.recordErrorCode)("unexpected","app",this.getGroup()),trace_js_1.ohosTrace.traceToHvigor(!0)}initTrace(){trace_js_1.ohosTrace.traceToHvigor(),this.getWorkerPool().setErrorCallback((r=>{(0,error_util_js_1.recordDECE)(r)}))}}exports.OhosAppTask=OhosAppTask;