"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.LegacyOhosTestArkCompile=void 0;const fs_extra_1=__importDefault(require("fs-extra")),task_names_js_1=require("../common/task-names.js"),legacy_ark_compile_js_1=require("./legacy-ark-compile.js"),common_const_js_1=require("../../const/common-const.js");class LegacyOhosTestArkCompile extends legacy_ark_compile_js_1.LegacyArkCompile{constructor(e,s){super(e,s,task_names_js_1.TaskNames.LegacyFATask.OHOS_TEST_ARK_COMPILE)}declareInputFiles(){const e=super.declareInputFiles();return this.mainCodePath&&fs_extra_1.default.existsSync(this.mainCodePath)&&e.addEntry(this.mainCodePath,{isDirectory:!0}),e}initDefaultLegacyArkConfig(e,s,t){const r={...super.initDefaultLegacyArkConfig(e,s,t),supportChunks:!1};return r.testFrameworkPar&&(r.testFrameworkPar.testMode=common_const_js_1.CommonConst.OHOS_TEST),r}}exports.LegacyOhosTestArkCompile=LegacyOhosTestArkCompile;