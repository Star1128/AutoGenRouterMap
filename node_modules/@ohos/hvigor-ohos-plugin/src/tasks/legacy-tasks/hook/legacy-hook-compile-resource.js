"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTaskRealName=exports.LegacyHookCompileResource=void 0;const task_names_js_1=require("../../common/task-names.js"),ohos_hap_task_js_1=require("../../task/ohos-hap-task.js"),legacy_compile_resource_js_1=require("../legacy-compile-resource.js"),legacy_preview_compile_resource_1=require("../legacy-preview-compile-resource");var CommonTask=task_names_js_1.TaskNames.CommonTask;const wdk_1=require("@baize/wdk"),module_task_service_js_1=require("../../service/module-task-service.js");class LegacyHookCompileResource extends ohos_hap_task_js_1.OhosHapTask{constructor(e){super(e,CommonTask.LEGACY_HOOK_COMPILE_RESOURCE)}doTaskAction(){}initTaskDepends(){const e=this.sdkInfo.isPreviewCompileResourceIncrement(this.targetData.isHarmonyOS())?legacy_preview_compile_resource_1.LegacyPreviewCompileResource.name:legacy_compile_resource_js_1.LegacyCompileResource.name,s=this.moduleModel.getModuleType(),o=this.moduleModel.getRelatedEntryModules();if(module_task_service_js_1.ModuleTaskService.checkEntryModules(s,o))for(const s of this.service.getRelatedEntryModules())this.declareDepends(getTaskRealName({name:e},s).name);else this.declareDepends(getTaskRealName({name:e}).name)}}function getTaskRealName(e,s){return s?{...e,name:`${e.name}With${(0,wdk_1.capitalize)(s)}`}:e}exports.LegacyHookCompileResource=LegacyHookCompileResource,exports.getTaskRealName=getTaskRealName;