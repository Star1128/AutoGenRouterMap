"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.UnitTestArkCompile=void 0;const path_1=__importDefault(require("path")),ohos_logger_js_1=require("../../utils/log/ohos-logger.js"),ark_compile_js_1=require("../ark-compile.js"),build_unit_test_hook_js_1=require("./build-unit-test-hook.js"),unit_test_process_profile_js_1=require("./unit-test-process-profile.js"),common_const_js_1=require("../../const/common-const.js");class UnitTestArkCompile extends ark_compile_js_1.ArkCompile{constructor(){super(...arguments),this.logger=ohos_logger_js_1.OhosLogger.getLogger(UnitTestArkCompile.name)}declareInputFiles(){return super.declareInputFiles()}async doTaskAction(){await super.doTaskAction()}async initDefaultArkCompileConfig(){const e={...await super.initDefaultArkCompileConfig(),aceModuleBuild:path_1.default.resolve(this.pathInfo.getInterMediatesAssetsPath(),this.codeType)};return e.obfuscationOptions&&delete e.obfuscationOptions,e.testFrameworkPar&&(e.testFrameworkPar.testMode=common_const_js_1.CommonConst.UNIT_TEST),e}initTaskDepends(){this.declareDependsList(build_unit_test_hook_js_1.BuildUnitTestHook.name,unit_test_process_profile_js_1.UnitTestProcessProfile.name)}}exports.UnitTestArkCompile=UnitTestArkCompile;