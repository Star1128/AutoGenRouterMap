"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GenerateUnitTestTemplate=void 0;const hvigor_1=require("@ohos/hvigor"),hvigor_arkts_compose_1=require("@ohos/hvigor-arkts-compose"),common_const_1=require("../../const/common-const"),task_names_js_1=require("../common/task-names.js"),ohos_module_task_js_1=require("../task/ohos-module-task.js");class GenerateUnitTestTemplate extends ohos_module_task_js_1.OhosModuleTask{constructor(e){super(e,task_names_js_1.TaskNames.Task.GENERATE_UNIT_TEST_TEMPLATE)}getParams(){const e=hvigor_1.hvigorCore.getExtraConfig();return{bundleName:this.projectModel.getAppRes().getAppResOpt().app.bundleName,moduleName:this.moduleName,scope:e.get(common_const_1.CommonConst.OHOS_TEST_COVERAGE_SCOPE),coverage:"true"===e.get(common_const_1.CommonConst.OHOS_TEST_COVERAGE),modulePath:this.pathInfo.getModulePath()}}declareOutputFiles(){const e=super.declareOutputFiles();return e.addEntry(this.pathInfo.getUnitTestTemplatePath(),{isDirectory:!0}),e}declareInputs(){const e=super.declareInputs(),t=this.getParams();return Object.keys(t).forEach((s=>{const o=t[s];void 0!==o&&e.set(s,o)})),e}async doTaskAction(){(0,hvigor_arkts_compose_1.generateUnitTestTemplate)(this.getParams())}initTaskDepends(){}}exports.GenerateUnitTestTemplate=GenerateUnitTestTemplate;