"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.computeHookTaskDepends=exports.deviceTestComputeDepends=exports.computeDepends=exports.computeTaskDetailsWithTarget=void 0;const common_const_js_1=require("../../const/common-const.js"),module_type_enum_js_1=require("../../enum/module-type-enum.js"),sign_hap_js_1=require("../sign-hap.js"),computeTaskDetailsWithTarget=(e,t)=>({...e,name:`${t.getTargetData().getTargetName()}@${e.name}`});exports.computeTaskDetailsWithTarget=computeTaskDetailsWithTarget;const computeDepends=(e,t)=>{const s=t.getTargetData().getTargetName(),o=t.getModuleService().getModuleModel().getModule();return e.map((e=>e.includes(":")||e.includes("@")?e:`${o.getName()}:${s}@${e}`))};exports.computeDepends=computeDepends;const deviceTestComputeDepends=(e,t,s,o)=>{if(t.includes(":")||t.includes("@"))return void e.push(t);const p=s.getTargetData().getTargetName(),u=s.getModuleService().getModuleModel().getModule(),n=`${u.getName()}:${p}@${t}`,a=`${u.getName()}:${common_const_js_1.DefaultTargetConst.OHOS_TEST_TARGET}@${o===module_type_enum_js_1.ModuleType.Entry||o===module_type_enum_js_1.ModuleType.Feature?t:sign_hap_js_1.SignHap.name}`;e.push(n,a)};exports.deviceTestComputeDepends=deviceTestComputeDepends;const computeHookTaskDepends=(e,t)=>{const s=[];return t.forEach((t=>s.push(...(0,exports.computeDepends)(e,t)))),s};exports.computeHookTaskDepends=computeHookTaskDepends;