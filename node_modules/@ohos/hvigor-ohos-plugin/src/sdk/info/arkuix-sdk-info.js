"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArkUIXSdkInfo=void 0;const hvigor_1=require("@ohos/hvigor"),sdkmanager_common_1=require("@ohos/sdkmanager-common"),sdk_arkuix_component_js_1=require("../impl/sdk-arkuix-component.js"),default_progress_js_1=require("../lib/default-progress.js"),sdk_util_js_1=require("../sdk-util.js"),common_sdk_info_js_1=require("./common-sdk-info.js");class ArkUIXSdkInfo extends common_sdk_info_js_1.CommonSdkInfo{constructor(o,s,n){super(s,n),this.localLibComponents=new Map,this.arkUIXComponents=o,this.projectArkUIXSdkPath=n;const e=sdkmanager_common_1.SdkInfoConfig.create(n).setSdkProxy(sdk_util_js_1.proxyFun);this.arkUIXSdkInfoHandler=new sdkmanager_common_1.ArkUIXSdkInfoHandler(e,new default_progress_js_1.DefaultProgress)}async setup(){const o=process.hrtime(),s=[];this.arkUIXComponents.forEach((o=>s.push(new sdkmanager_common_1.PathAndApiVersion(o,this.sdkVersion.version))));try{this.localLibComponents=await this.arkUIXSdkInfoHandler.getOrDownload(s)}catch(o){(0,sdk_util_js_1.handleSdkException)(o)}s.forEach((o=>this.initComponent(this.contains(o,this.localLibComponents))));const n=process.hrtime(o);this._log.debug(`Sdk init in ${(0,hvigor_1.formatTime)(n)}`)}contains(o,s){for(const[n,e]of s)if(n.equals(o))return e}initComponent(o){this.sdkArkUIXComponent=new sdk_arkuix_component_js_1.SdkArkUIXComponent(o)}getArkUIXRootPath(){return this.sdkArkUIXComponent.getBaseDir()}getProjectArkUIXSdkPath(){return this.projectArkUIXSdkPath}}exports.ArkUIXSdkInfo=ArkUIXSdkInfo;