"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModuleTargetImpl=void 0;const core_product_js_1=require("../../../common/global/core-product.js"),core_project_profile_js_1=require("../../../common/global/core-project-profile.js"),build_mode_manager_js_1=require("../../../project/build-option/build-mode-manager.js"),object_util_js_1=require("@ohos/hvigor/src/base/util/object-util.js"),wdk_1=require("@baize/wdk");class ModuleTargetImpl{constructor(t,e,r,o){this.targetInfo=t,this.modulePathInfo=e,this.projectModel=r,this.moduleModel=o,this.projectPath=this.projectModel.getProject().getNodeDir(),this.initCurrentProduct(),this.initBuildPath()}getBuildTargetOutputPath(){return this.buildTargetOutputPath}getTargetName(){return this.targetInfo.name}getCurrentProduct(){return this.currentProduct}getBuildOption(){const t=build_mode_manager_js_1.buildOptionManager.getTargetBuildOption(this.moduleModel.getName(),this.targetInfo.name);return(0,object_util_js_1.freezeDeep)((0,wdk_1.cloneDeep)(null!=t?t:{}))}initCurrentProduct(){const t=core_project_profile_js_1.CoreProjectProfile.getInstance(this.projectPath).getCurrentProductOpt();this.currentProduct=new core_product_js_1.CoreProduct(t,this.projectModel)}initBuildPath(){this.buildTargetOutputPath=this.modulePathInfo.getModuleBuildOutputPath()}}exports.ModuleTargetImpl=ModuleTargetImpl;